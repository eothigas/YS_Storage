<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="./src/images/Logo_reduzido.svg" type="image/png">
    <title>Your Storage - Consulta</title>
    <link rel="stylesheet" href="./src/css/alterar.css">
    <link rel="stylesheet" href="./src/css/alterar_responsive.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    <script src="./src/js/verify_session.js" type="text/javascript" defer></script>
</head>
<body>

    <div class="logo-r">
        <img src="./src/images/Logo_reduzido.svg" alt="Logo Reduzido">
    </div>
    
    <nav class="menu-lateral">

        <div class="btn-expandir">
            <i class="bi bi-list" id="btn-exp"></i>
        </div>

        <ul id="cima">
            <li class="item-menu">
                <a href="./dashboard.html">
                    <span class="icon"><i class="bi bi-house-door"></i></span>
                    <span class="txt-link">Home</span>
                </a>    
            </li>
            <li class="item-menu">
                <a href="./cadastro.php">
                    <span class="icon"><i class="bi bi-person-add"></i></span>
                    <span class="txt-link">Cadastrar Usuário</span>
                </a>
            </li>
            <li class="item-menu">
                <a href="./consulta.html">
                    <span class="icon"><i class="bi bi-person"></i></span>
                    <span class="txt-link">Consultar Usuário</span>
                </a>
            </li>
            <li class="item-menu" id="modify">
                <a href="./alterar.html">
                    <span class="icon"><i class="bi bi-person-gear"></i></span>
                    <span class="txt-link">Alterar Usuário</span>
                </a>
            </li>
        </ul>

        <ul id="baixo">
            <hr>
            <li class="item-footer1">
                <a href="./profile.html">
                    <img id="func_perfil" src="" alt="">
                    <span class="txt-link">Perfil</span>
                </a>
            </li>
            <li class="item-footer2">
                <a id='out'>
                    <span class="icon"><i class="bi bi-box-arrow-right" id="logout"></i></span>
                    <span class="txt-link-l" id="logout">Sair</span>
                </a>
            </li>
        </ul>

    </nav>

    <!-- Conteúdo Principal à Direita -->
    <div class="main-content">
        <!-- Cumprimento do Funcionário -->
        <div class="welcome-msg">
            <h1 id="welcome-msg">Alterar Usuários</h1>
        </div>
    
        <div class="user-info">
            <div class="user-info-header">
                <h2>Usuários Cadastrados</h2>
                <div class="search-bar">
                    <input type="text" id="search-input" placeholder="Pesquisar usuário...">
                </div>
            </div>
            
            <table id="total-usuarios">
                <thead>
                    <tr>
                        <th>Editar</th>
                        <th>Nome</th>
                        <th>Email</th>
                        <th>Plano</th>
                    </tr>
                </thead>
                <tbody>
                     <!-- Linhas da tabela serão preenchidas pelo JavaScript -->
                </tbody>
            </table>
             <!-- Controles de paginação -->
            <div class="pagination">
                <button id="prev-btn" disabled>Anterior</button>
                <span id="page-info">Página 1 de 1</span>
                <button id="next-btn">Próxima</button>
            </div>
        </div>
    </div>

    <!-- Mensagem erro ou sucesso -->
    <div id="message-container">
        <p id="message"></p>
    </div>

    <!-- Modal para Edição de Usuário -->
    <div id="edit-modal" class="modal">
        <div class="modal-content" id="first">
            <i class="bi bi-x-circle" id='close-modal' onclick="closeModal()"></i>
            <p class="title">Editar Usuário</p>
            <form id="edit-form" method="post" action="/funcionario/php/alterar_usuario.php">
                <label>
                    <span>Nome</span><br>
                    <input type="text" id="edit-name" name="name" required>
                </label>
                
                <label>
                    <span>Email</span><br>
                    <input type="email" id="edit-email" name="email" required>
                </label>
                
                <label>
                    <span>Plano</span><br>
                    <div class='ref'>
                        <input class='select' type="radio" id="edit-basico" name="plan" value="basico" required>
                        <label for="edit-basico">Básico</label>
                    </div>
                    <div class='ref'>
                        <input class='select' type="radio" id="edit-logistico" name="plan" value="logistico" required>
                        <label for="edit-logistico">Logístico</label>
                    </div>
                    <div class='ref'>
                        <input class='select' type="radio" id="edit-premium" name="plan" value="premium" required>
                        <label for="edit-premium">Premium</label>
                    </div>
                </label>
                <div id="btn">
                    <button type="submit" id='delete-user' type="submit">Excluir Usuário</button>
                    <button type="submit" id='save-changes' type="submit">Salvar Alterações</button>
                </div>
            </form>
        </div>
    </div>

    <div id="confirmation-modal" style="display:none;">
        <div class="modal-contents">
            <p>Você tem certeza que deseja deletar este usuário?</p>
            <div>
                <button id="confirm-delete">Sim, prosseguir.</button><br>
                <button id="cancel-delete">Não, retornar.</button>
            </div>
        </div>
    </div>

    <script src="./src/js/alterar.js"></script>
</body>
</html>
